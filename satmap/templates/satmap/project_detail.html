{% extends 'base.html' %}

{% block content %}
    <article class="post">
        <aside class="actions">  
            {% if user.is_authenticated %}
                <a class="btn btn-secondary" href="">
                </a>
            {% endif %}
        </aside>
        <h2>{{ project.name }}</h2>
        <p>{{ project.description }}</p>
        <a href="{% url 'project_edit' pk=project.pk %}"><button class="btn btn-primary">Edit Project</button></a>
        <a href="{% url 'project_duplicate' pk=project.pk %}"><button class="btn btn-primary">Duplicate Project</button></a>
        <a href="{% url 'project_delete' pk=project.pk %}"><button class="btn btn-primary">Delete Project</button></a>
        <p><b></p>
        <a href="{% url 'map_create' %}?project={{ project.id }}"><button class="btn btn-primary">Add Map</button></a>
        <p><b></p>

        {% for map in project.map_set.all %}
        <h1><a href="{% url 'map_detail' pk=map.pk %}">{{ map.title }}</a></h1>
        <p>{{ map.description }}</p>
        <a href="{% url 'map_edit' pk=map.pk %}"><button class="btn btn-primary">Edit Map</button></a>
        <a href="{% url 'map_duplicate' pk=map.pk %}?project={{ map.project.id }}"><button class="btn btn-primary">Duplicate Map</button></a>
        <a href="{% url 'map_delete' pk=map.pk %}"><button class="btn btn-primary">Delete Map</button></a>
        <p><b></p>
        <div id="map{{ map.id }}" class="map"></div>
        <script>
            function initMap() {
                // Create a map object
               
                const map = new google.maps.Map(document.getElementById("map{{ map.id }}"), {
                        center: {lat: {{ map.latitude }}, lng: {{ map.longitude}}},  // Set the initial center of the map
                        zoom: {{ map.zoom }}  // Set the initial zoom level
                });
            }
            initMap();
        </script>
        <p><b></p>
        {% endfor %}
    </article>
{% endblock %}