{% extends 'base.html' %}

{% block content %}
    <article class="post">
        <aside class="actions">  
            {% if user.is_authenticated %}
                <a class="btn btn-secondary" href="">
                </a>
            {% endif %}
        </aside>
        <h2>{{ project.name }}</h2>
        <p>{{ project.description|linebreaksbr }}</p>
        <a href="{% url 'map_create' %}?project={{ project.id }}"><button class="btn btn-primary">Add Map</button></a>
        {% for map in project.map_set.all %}
        <a href="{% url 'map_detail' pk=map.id %}"><h1>{{ map.title }}</h1></a>
        <div id="map{{ map.id }}" class="map"></div>
        <script>
            function initMap() {
                // Create a map object
               
                const map = new google.maps.Map(document.getElementById("map{{ map.id }}"), {
                        center: {lat: {{ map.latitude }}, lng: {{ map.longitude}}},  // Set the initial center of the map
                        zoom: {{ map.zoom }}  // Set the initial zoom level
                });
            }
            initMap();
        </script>
        {% endfor %}
    </article>
{% endblock %}